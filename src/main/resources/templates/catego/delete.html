<!DOCTYPE html>

<html layout:decorate="~{layout}"> <!-- layout.html 상속-->
<div layout:fragment="content">
  <div class="title_line">카테고리 삭제 <span th:if="${word != null and word != ''}" th:text="|${word} ${list_search_count} 건|"></span> </div> 
   <aside class="aside_right">
    <a href="javascript: location.reload();">새로 고침</a>
    <span class="menu_divide">|</span>
    <a th:href="@{|/catego/list_all|}">목록</a>
    <span class="menu_divide">|</span>
    <a th:href="@{|/catego/update/${categoVO.categono}|}">수정</a>
    <span class="menu_divide">|</span>
    <a th:href="@{|/catego/delete/${categoVO.categono}|}">삭제</a>
    <span class="menu_divide">|</span>
    <a th:href="@{|/catego/create|}">등록</a>
    <span class="menu_divide"></span>
  </aside>
  
  <!--/* /cate/list_search_com.html의 list_search_fragment를 include */-->
  <div th:replace = "~{catego/list_search_com::list_search_fragment}">
  </div>
  <div class="menu_line"></div>
  
  <div style="width: 50%; margin: 0px auto;">  
    <form name="frm" method="post" th:action="@{/catego/delete/{categono}(categono=${categoVO.categono})}" th:object="${categoVO}">
    <input type="hidden" name="categono" th:value="${categoVO.categono}"> <!--/* (입력받지 않고)값 유지 목적 */-->
      <input type="hidden" name="word" th:value="${word}"> <!--/* 값 유지 */-->
      <input type="hidden" name="now_page" th:value="${now_page}"> <!--/* 값 유지 */-->

      <div class="msg_warning" th:if="${childCount > 0}">
      [[${categoVO.name}]] 관련 자료 [[${childCount}]]건이 발견되었습니다. <br>관련 자료와 카테고리를 모두 삭제하시겠습니까?
      </div>
      <div class="msg_warning" th:if="${childCount == 0}">
          카테고리를 삭제하면 복구할 수 없습니다. 삭제하시려면 [삭제] 버튼을 클릭하세요.
      </div>
      
      <div style="width: 60%; margin: 0px auto; background-color: #DDDDDD;">
        <label>곡제목</label>: <span th:text="${categoVO.title}"></span><br>
        <label>아티스트명</label>: <span th:text="${categoVO.artist}"></span><br>
      </div> 

      <div class="content_body_bottom">
        <button type="submit" class="btn btn-secondary btn-sm">삭제</button>
        <button type="button" th:attr="onclick=|location.href='/catego/list_search?word=${word}&now_page=${now_page}'|" class="btn btn-secondary btn-sm">취소[목록]</button>
      </div>
      
    </form>
      
  <div th:replace="~{catego/list_all_com::list_all_fragment}"></div>
  
</div>
</html>